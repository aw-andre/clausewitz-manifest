<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{ game }} Modifier Tree</title>
    <script src="https://unpkg.com/htmx.org@2.0.0"></script>
    <style>
      body {
        font-family: sans-serif;
        max-width: 800px;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .card {
        border-left: 2px solid #ccc;
        padding-left: 8px;
        margin: 4px 0;
      }

      .toggle {
        cursor: pointer;
        color: #2d6cdf;
        user-select: none;
      }

      .node {
        margin-left: 20px;
      }
    </style>
  </head>

  <body>
    <h1>{{ game }} Modifier Tree</h1>

    <form
      hx-get="/tree/{{ game }}"
      hx-target="#tree"
      hx-swap="innerHTML"
      hx-trigger="submit"
      style="margin-bottom: 1rem"
    >
      <input
        type="text"
        name="search_term"
        placeholder="Search modifier..."
        hx-trigger="keyup[keyCode==13]->closest form:submit"
        autofocus
      />
      <label>
        <input type="checkbox" name="search_type" value="key" checked /> key
      </label>
      <label>
        <input type="checkbox" name="search_type" value="value" checked /> value
      </label>
    </form>

    <div id="tree"></div>
  </body>
</html>
