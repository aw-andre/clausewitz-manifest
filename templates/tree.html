{# templates/modifier_tree.html #}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Modifier Tree: {{ game }}</title>
    <script src="https://unpkg.com/htmx.org@2.0.0"></script>
    <style>
      body {
        font-family: sans-serif;
        max-width: 800px;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .card {
        border-left: 2px solid #ccc;
        padding-left: 8px;
        margin: 4px 0;
      }

      .toggle {
        cursor: pointer;
        color: #2d6cdf;
        user-select: none;
      }

      .node {
        margin-left: 20px;
      }
    </style>
  </head>

  <body>
    {% if valid == true %}
    <h1>Modifier: {{ game }}</h1>
      <form action="/modifier_tree" method="get" style="margin-bottom:1rem;">
        <input
          type="text"
          name="key"
          placeholder="Search modifierâ€¦"
          style="padding: 0.5rem; font-size: 1rem; width: 250px;"
        />
        <button type="submit" style="padding: 0.5rem; font-size: 1rem;">Search</button>
      </form>

      {% for node in nodes %}
      <div class="card">
        <span
          class="toggle"
          hx-get="/{{ game }}/{{ node.primary_id }}"
          hx-target="#node-{{ node.primary_id }}"
          hx-swap="outerHTML"
        >
      </div>
      {% endfor %}
    {% else %}
      <h1>Game does not have a modifier tree: {{ game }}</h1>
    {% endif %}
  </body>
</html>
